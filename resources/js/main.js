var wendyApp=angular.module("wendyApp",["ui.router"]);wendyApp.config(["$urlRouterProvider","$locationProvider","$stateProvider",function(a,b,c){a.otherwise("/"),b.html5Mode(!0),c.state("home",{url:"/",templateUrl:"/views/home.html",controller:"homeCtrl"}).state("works",{url:"/works",templateUrl:"/views/works.html",controller:"worksCtrl"}).state("work",{url:"/work/:slug",templateUrl:"/views/work.html",controller:"workCtrl"}).state("about",{url:"/about",templateUrl:"/views/about.html",controller:"aboutCtrl"}).state("contact",{url:"/contact",templateUrl:"/views/contact.html",controller:"contactCtrl"}).state("404",{template:"<div>error</div>"}),a.otherwise(function(a,b){return a.get("$state").go("404"),b.path()})}]),angular.module("wendyApp").controller("aboutCtrl",["$scope","wendy.api",function(a,b){"use strict";b.getAbout().then(function(b){a.about=b})}]),angular.module("wendyApp").controller("contactCtrl",["$scope",function(a){"use strict";a.contact="Reach me here",a.message="",a.contactInfo={},a.emailSuccess=!1,a.submitForm=function(){a.emailSuccess=!0}}]),angular.module("wendyApp").controller("homeCtrl",["$scope","wendy.api",function(a,b){"use strict";b.getWorks().then(function(b){a.works=b})}]),angular.module("wendyApp").controller("masterCtrl",["$scope","$state","$window",function(a,b,c){"use strict";a.$on("$viewContentLoaded",function(){c.scrollTo(0,0),a.navState=b.current.name}),a.mobileMenuToggle=function(){document.body.classList.toggle("menu-is-active")},a.hideMobileNav=function(){var a=document.body;a.classList.contains("menu-is-active")&&a.classList.remove("menu-is-active")}}]),angular.module("wendyApp").controller("workCtrl",["$scope","$stateParams","wendy.api","$q",function(a,b,c,d){"use strict";const e=c.getSingleWork(b.slug).then(function(b){return a.work=b,a.work}),f=c.getWorks().then(function(b){return a.works=b,a.works}),g=(a,b)=>{for(var c=0;c<a.length;c++)if(angular.equals(a[c],b))return c;return-1},h=()=>{const b=g(a.works,a.work);const c={};c.next=a.works[b+1];c.previous=a.works[b-1];a.neighbours=c};d.all([e,f]).then(function(){h()})}]),angular.module("wendyApp").controller("worksCtrl",["$scope","wendy.api",function(a,b){"use strict";b.getWorks().then(function(b){a.works=b})}]),angular.module("wendyApp").directive("dynamicHtml",["$compile",function(a){return{restrict:"A",replace:!0,link:function(b,c,d){b.$watch(d.markup,function(d){c.html(d),a(c.contents())(b)})}}}]),angular.module("wendyApp").directive("worksGrid",["$state","wendy.api",function(a,b){return{restrict:"A",scope:{works:"=works"},replace:!0,templateUrl:"/views/works-grid.html",link:function(a){}}}]),angular.module("wendyApp").factory("wendy.api",["$http",function(a){function b(a){return"/resources/data/"+a+".json"}return{getWorks:function(c){return a.get(b("works")).then(function(a){return a.data})},getSingleWork:function(c){return a.get(b("work/"+c)).then(function(a){return a.data})},getAbout:function(c){return a.get(b("about")).then(function(a){return a.data})}}}]),angular.module("wendyApp").filter("trustAsResourceUrl",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]);
